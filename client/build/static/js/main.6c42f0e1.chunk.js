(this.webpackJsonpmubashar=this.webpackJsonpmubashar||[]).push([[0],{143:function(e,t,a){},144:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),s=a.n(c),i=(a(143),a(144),a(41)),l=a(15),o=a(26),u=a(17),p=a.n(u),j=a(33),d=a(38),b=a(246),h=a(135),O=a(244),g=a(245),m=a(247),f=a(134),x=a(89).default,v=a(45).BaseUrl,y=function(){var e=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(v,"product/uploadImage"),e.next=3,x.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(89).default,k=a(45).BaseUrl,P=function(){var e=Object(j.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(k,"product/create"),e.next=3,w.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=a(5),C=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;function S(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(d.a)(c,2),l=s[0],u=s[1],x=Object(n.useState)(""),v=Object(d.a)(x,2),w=v[0],k=v[1],S=Object(n.useState)(""),I=Object(d.a)(S,2),F=I[0],T=I[1];console.log(a);var E={wrapperCol:{offset:8,span:16}},B=b.a.useForm(),q=Object(d.a)(B,1)[0],D=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Upload event:",t.target.files[0]),console.log(t),(a=new FormData).append("photo",t.target.files[0]),e.prev=4,e.next=7,y(a);case 7:n=e.sent,console.log(n.data),r(n.data.file.filename),Object(h.b)("file uploaded"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(F&&w&&l&&a&&C.test(F))){e.next=16;break}return e.prev=1,e.next=4,P({email:F,description:w,title:l,imageUrl:a});case 4:n=e.sent,console.log(n.data),h.b.success("post created"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response?h.b.error(e.t0.response.data.message):h.b.error(e.t0.message);case 12:q.resetFields(),document.getElementById("photo").value=null,e.next=17;break;case 16:h.b.warn("validation missing");case 17:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)(O.a,{gutter:[16,16],align:"middle",justify:"center",children:Object(U.jsxs)(g.a,{style:{padding:"50px"},xs:24,sm:18,md:16,lg:12,children:[Object(U.jsxs)(b.a,Object(o.a)(Object(o.a)({},{labelCol:{span:4},wrapperCol:{span:16}}),{},{name:"basic",form:q,initialValues:{remember:!0},onFinish:function(e){console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},onsubmitForm:_,children:[Object(U.jsx)(b.a.Item,{name:"upload",label:"Upload",valuePropName:"fileList",children:Object(U.jsx)("input",{name:"photo",required:!0,id:"photo",type:"file",onChange:D,accept:"image/*"})}),Object(U.jsx)(b.a.Item,{name:"title",label:"Title",required:!0,children:Object(U.jsx)(m.a,{name:"title",rules:[{type:"text",message:"Please input your title!"}],required:!0,value:l,onChange:function(e){return u(e.target.value)}})}),Object(U.jsx)(b.a.Item,{name:"email",label:"E-mail",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],value:F,onChange:function(e){return T(e.target.value)},required:!0,clear:!0,children:Object(U.jsx)(m.a,{})}),Object(U.jsx)(b.a.Item,{name:"description",label:"Description",required:!0,children:Object(U.jsx)(m.a,{name:"description",rules:[{type:"text",message:"Please input your description!"}],value:w,onChange:function(e){return k(e.target.value)},required:!0})}),Object(U.jsx)(O.a,{align:"middle",justify:"space-around",children:Object(U.jsx)(g.a,{children:Object(U.jsx)(b.a.Item,Object(o.a)(Object(o.a)({},E),{},{children:Object(U.jsx)(f.a,{onClick:_,type:"primary",htmlType:"submit",children:"Submit"})}))})})]})),Object(U.jsx)(O.a,{children:Object(U.jsx)(g.a,{children:Object(U.jsx)(i.b,{to:"/gallery",children:Object(U.jsx)(b.a.Item,Object(o.a)(Object(o.a)({},E),{},{children:Object(U.jsx)(f.a,{type:"primary",htmlType:"submit",children:"Gallery"})}))})})})]})})}var I=a(89).default,F=a(45).BaseUrl,T=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=t.limit,r="".concat(F,"product/all?page=").concat(a,"&limit=").concat(n),e.next=4,I.get(r,{});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n="".concat(F,"product/id?id=").concat(a),e.next=4,I.get(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B="ADD_POST",q="POST_LOADING",D="POST_GET",_="POST_GET_ONE",G=function(){return{type:q}},A=function(e){var t=e.page,a=e.limit;return function(){var e=Object(j.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(G()),e.prev=1,e.next=4,T({page:t,limit:a});case 4:r=e.sent,n((c=r.data,{type:D,payload:c})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response?h.b.error(e.t0.response.data.message):h.b.error(e.t0.message);case 11:case"end":return e.stop()}var c}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},L=a(44),N=a(45);function R(){var e=Object(n.useState)(0),t=Object(d.a)(e,2),a=t[0],r=(t[1],Object(n.useState)(1)),c=Object(d.a)(r,2),s=c[0],l=c[1],o=Object(n.useState)(9),u=Object(d.a)(o,2),p=u[0],j=u[1],b=Object(L.b)(),h=Object(L.c)((function(e){return e.postReducer})),x=h.loading,v=h.posts;console.log(v,"backedn post"),Object(n.useEffect)((function(){b(A({page:s,limit:p}))}),[a]);return Object(U.jsxs)("div",{children:["Gallery Component",Object(U.jsx)(O.a,{children:Object(U.jsx)(g.a,{span:24,children:Object(U.jsxs)(g.a,{span:12,children:[" ",Object(U.jsxs)(g.a,{span:6,children:["page"," ",Object(U.jsx)(m.a,{type:"number",onChange:function(e){return l(e.target.value)},value:s,placeholder:"pages"})]}),Object(U.jsxs)(g.a,{span:6,children:["limit:"," ",Object(U.jsx)(m.a,{type:"number",onChange:function(e){return j(e.target.value)},value:p,placeholder:"limit"})]}),Object(U.jsx)(g.a,{span:6,children:Object(U.jsx)(f.a,{onClick:function(){b(A({page:s,limit:p}))},children:"Apply pagination"})})]})})}),Object(U.jsx)(O.a,{justify:"center",align:"middle",children:Object(U.jsx)(g.a,{span:12,children:x?Object(U.jsx)(O.a,{style:{height:"500px"},justify:"center",align:"middle",children:Object(U.jsx)("h1",{children:" loading Post"})}):Object(U.jsx)(O.a,{justify:"center",align:"middle",children:v.map((function(e){return Object(U.jsx)(g.a,{span:7,style:{margin:"10px"},children:Object(U.jsx)(i.b,{to:"/gallery/".concat(e._id),children:Object(U.jsx)("img",{width:"100%",height:"100%",src:e.imageUrl?e.imageUrl.startsWith("http")?e.imageUrl:N.BaseUrl+e.imageUrl:"https://www.thedome.org/wp-content/uploads/2019/06/300x300-Placeholder-Image.jpg"})})},e._id)}))})})})]})}function J(e){var t=Object(l.f)().id,a=Object(L.c)((function(e){return e.postReducer})),r=a.loading,c=(a.posts,a.singlePost),s=Object(L.b)();return Object(n.useEffect)((function(){s(function(e,t){var a=e.id;return function(){var e=Object(j.a)(p.a.mark((function e(n){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(G()),e.prev=1,e.next=4,E({id:a});case 4:r=e.sent,n((c=r.data,{type:_,payload:c})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.response?h.b.error(e.t0.response.data.message):h.b.error(e.t0.message),t.push("/gallery");case 12:case"end":return e.stop()}var c}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}({id:t},e.history))}),[t]),Object(U.jsx)(O.a,{justify:"center",align:"middle",children:Object(U.jsx)(g.a,{span:20,children:r?Object(U.jsx)(O.a,{style:{height:"500px"},justify:"center",align:"middle",children:Object(U.jsx)("h1",{children:" loading Post"})}):Object(U.jsx)(O.a,{justify:"center",align:"middle",children:c.hasOwnProperty("title")&&Object(U.jsxs)(g.a,{span:24,style:{margin:"10px"},children:[Object(U.jsx)("img",{width:"70%",height:"40%",src:c.imageUrl?c.imageUrl.startsWith("http")?c.imageUrl:N.BaseUrl+c.imageUrl:"https://www.thedome.org/wp-content/uploads/2019/06/300x300-Placeholder-Image.jpg",alt:c.title}),Object(U.jsx)("br",{}),Object(U.jsxs)("p",{children:["title: ",c.title?c.title:""]}),Object(U.jsxs)("p",{children:["email: ",c.email?c.email:""]}),Object(U.jsxs)("p",{children:["Desc: ",c.description?c.description:""]})]})})})})}var W=function(){return Object(U.jsx)("div",{className:"App",children:Object(U.jsx)(i.a,{children:Object(U.jsxs)(l.c,{children:[Object(U.jsx)(l.a,{exact:!0,path:"/",children:Object(U.jsx)(S,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/gallery",children:Object(U.jsx)(R,{})}),Object(U.jsx)(l.a,{exact:!0,path:"/gallery",children:Object(U.jsx)(R,{})}),Object(U.jsx)(l.a,{path:"/gallery/:id",component:J})]})})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,248)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))},V=(a(240),a(43)),$=a(131),z={loading:!1,posts:[],singlePost:{},errors:[]},H=Object(V.c)({postReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,user:t.payload});case D:return Object(o.a)(Object(o.a)({},e),{},{posts:t.payload,loading:!1});case _:return Object(o.a)(Object(o.a)({},e),{},{singlePost:t.payload,loading:!1});case q:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});default:return e}}}),K=a(132),Q=a.n(K),X=Object(V.e)(H,Object(V.d)(Object(V.a)($.a,Q.a)));s.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(L.a,{store:X,children:Object(U.jsx)(W,{})})}),document.getElementById("root")),M()},45:function(e,t,a){"use strict";a.r(t),a.d(t,"BaseUrl",(function(){return n}));var n="/"}},[[241,1,2]]]);
//# sourceMappingURL=main.6c42f0e1.chunk.js.map